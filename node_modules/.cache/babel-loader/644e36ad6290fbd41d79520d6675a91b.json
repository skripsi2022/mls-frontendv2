{"ast":null,"code":"var _watch;\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport { Vue } from '../../vue';\nimport { NAME_CALENDAR } from '../../constants/components';\nimport { CALENDAR_GREGORY, CALENDAR_LONG, CALENDAR_NARROW, CALENDAR_SHORT, DATE_FORMAT_2_DIGIT, DATE_FORMAT_NUMERIC } from '../../constants/date';\nimport { EVENT_NAME_CONTEXT, EVENT_NAME_SELECTED } from '../../constants/events';\nimport { CODE_DOWN, CODE_END, CODE_ENTER, CODE_HOME, CODE_LEFT, CODE_PAGEDOWN, CODE_PAGEUP, CODE_RIGHT, CODE_SPACE, CODE_UP } from '../../constants/key-codes';\nimport { PROP_TYPE_ARRAY_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_DATE_STRING, PROP_TYPE_FUNCTION, PROP_TYPE_NUMBER_STRING, PROP_TYPE_OBJECT, PROP_TYPE_STRING } from '../../constants/props';\nimport { SLOT_NAME_NAV_NEXT_DECADE, SLOT_NAME_NAV_NEXT_MONTH, SLOT_NAME_NAV_NEXT_YEAR, SLOT_NAME_NAV_PEV_DECADE, SLOT_NAME_NAV_PEV_MONTH, SLOT_NAME_NAV_PEV_YEAR, SLOT_NAME_NAV_THIS_MONTH } from '../../constants/slots';\nimport { arrayIncludes, concat } from '../../utils/array';\nimport { createDate, createDateFormatter, constrainDate as _constrainDate, datesEqual, firstDateOfMonth, formatYMD, lastDateOfMonth, oneMonthAgo, oneMonthAhead, oneYearAgo, oneYearAhead, oneDecadeAgo, oneDecadeAhead, parseYMD, resolveLocale } from '../../utils/date';\nimport { attemptBlur, attemptFocus, requestAF } from '../../utils/dom';\nimport { stopEvent } from '../../utils/events';\nimport { identity } from '../../utils/identity';\nimport { isArray, isPlainObject, isString } from '../../utils/inspect';\nimport { isLocaleRTL } from '../../utils/locale';\nimport { looseEqual } from '../../utils/loose-equal';\nimport { mathMax } from '../../utils/math';\nimport { makeModelMixin } from '../../utils/model';\nimport { toInteger } from '../../utils/number';\nimport { sortKeys } from '../../utils/object';\nimport { hasPropFunction, makeProp, makePropsConfigurable } from '../../utils/props';\nimport { toString } from '../../utils/string';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { BIconChevronLeft, BIconChevronDoubleLeft, BIconChevronBarLeft, BIconCircleFill } from '../../icons/icons'; // --- Constants ---\n\nvar _makeModelMixin = makeModelMixin('value', {\n  type: PROP_TYPE_DATE_STRING\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event; // --- Props ---\n\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), {}, {\n  ariaControls: makeProp(PROP_TYPE_STRING),\n  // Makes calendar the full width of its parent container\n  block: makeProp(PROP_TYPE_BOOLEAN, false),\n  dateDisabledFn: makeProp(PROP_TYPE_FUNCTION),\n  // `Intl.DateTimeFormat` object\n  dateFormatOptions: makeProp(PROP_TYPE_OBJECT, {\n    year: DATE_FORMAT_NUMERIC,\n    month: CALENDAR_LONG,\n    day: DATE_FORMAT_NUMERIC,\n    weekday: CALENDAR_LONG\n  }),\n  // Function to set a class of (classes) on the date cell\n  // if passed a string or an array\n  // TODO:\n  //   If the function returns an object, look for class prop for classes,\n  //   and other props for handling events/details/descriptions\n  dateInfoFn: makeProp(PROP_TYPE_FUNCTION),\n  // 'ltr', 'rtl', or `null` (for auto detect)\n  direction: makeProp(PROP_TYPE_STRING),\n  disabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  headerTag: makeProp(PROP_TYPE_STRING, 'header'),\n  // When `true`, renders a comment node, but keeps the component instance active\n  // Mainly for <b-form-date>, so that we can get the component's value and locale\n  // But we might just use separate date formatters, using the resolved locale\n  // (adjusted for the gregorian calendar)\n  hidden: makeProp(PROP_TYPE_BOOLEAN, false),\n  // When `true` makes the selected date header `sr-only`\n  hideHeader: makeProp(PROP_TYPE_BOOLEAN, false),\n  // This specifies the calendar year/month/day that will be shown when\n  // first opening the datepicker if no v-model value is provided\n  // Default is the current date (or `min`/`max`)\n  initialDate: makeProp(PROP_TYPE_DATE_STRING),\n  // Labels for buttons and keyboard shortcuts\n  labelCalendar: makeProp(PROP_TYPE_STRING, 'Calendar'),\n  labelCurrentMonth: makeProp(PROP_TYPE_STRING, 'Current month'),\n  labelHelp: makeProp(PROP_TYPE_STRING, 'Use cursor keys to navigate calendar dates'),\n  labelNav: makeProp(PROP_TYPE_STRING, 'Calendar navigation'),\n  labelNextDecade: makeProp(PROP_TYPE_STRING, 'Next decade'),\n  labelNextMonth: makeProp(PROP_TYPE_STRING, 'Next month'),\n  labelNextYear: makeProp(PROP_TYPE_STRING, 'Next year'),\n  labelNoDateSelected: makeProp(PROP_TYPE_STRING, 'No date selected'),\n  labelPrevDecade: makeProp(PROP_TYPE_STRING, 'Previous decade'),\n  labelPrevMonth: makeProp(PROP_TYPE_STRING, 'Previous month'),\n  labelPrevYear: makeProp(PROP_TYPE_STRING, 'Previous year'),\n  labelSelected: makeProp(PROP_TYPE_STRING, 'Selected date'),\n  labelToday: makeProp(PROP_TYPE_STRING, 'Today'),\n  // Locale(s) to use\n  // Default is to use page/browser default setting\n  locale: makeProp(PROP_TYPE_ARRAY_STRING),\n  max: makeProp(PROP_TYPE_DATE_STRING),\n  min: makeProp(PROP_TYPE_DATE_STRING),\n  // Variant color to use for the navigation buttons\n  navButtonVariant: makeProp(PROP_TYPE_STRING, 'secondary'),\n  // Disable highlighting today's date\n  noHighlightToday: makeProp(PROP_TYPE_BOOLEAN, false),\n  noKeyNav: makeProp(PROP_TYPE_BOOLEAN, false),\n  readonly: makeProp(PROP_TYPE_BOOLEAN, false),\n  roleDescription: makeProp(PROP_TYPE_STRING),\n  // Variant color to use for the selected date\n  selectedVariant: makeProp(PROP_TYPE_STRING, 'primary'),\n  // When `true` enables the decade navigation buttons\n  showDecadeNav: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Day of week to start calendar on\n  // `0` (Sunday), `1` (Monday), ... `6` (Saturday)\n  startWeekday: makeProp(PROP_TYPE_NUMBER_STRING, 0),\n  // Variant color to use for today's date (defaults to `selectedVariant`)\n  todayVariant: makeProp(PROP_TYPE_STRING),\n  // Always return the `v-model` value as a date object\n  valueAsDate: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Format of the weekday names at the top of the calendar\n  // `short` is typically a 3 letter abbreviation,\n  // `narrow` is typically a single letter\n  // `long` is the full week day name\n  // Although some locales may override this (i.e `ar`, etc.)\n  weekdayHeaderFormat: makeProp(PROP_TYPE_STRING, CALENDAR_SHORT, function (value) {\n    return arrayIncludes([CALENDAR_LONG, CALENDAR_SHORT, CALENDAR_NARROW], value);\n  }),\n  // Has no effect if prop `block` is set\n  width: makeProp(PROP_TYPE_STRING, '270px')\n})), NAME_CALENDAR); // --- Main component ---\n// @vue/component\n\nexport var BCalendar = Vue.extend({\n  name: NAME_CALENDAR,\n  // Mixin order is important!\n  mixins: [attrsMixin, idMixin, modelMixin, normalizeSlotMixin],\n  props: props,\n  data: function data() {\n    var selected = formatYMD(this[MODEL_PROP_NAME]) || '';\n    return {\n      // Selected date\n      selectedYMD: selected,\n      // Date in calendar grid that has `tabindex` of `0`\n      activeYMD: selected || formatYMD(_constrainDate(this.initialDate || this.getToday()), this.min, this.max),\n      // Will be true if the calendar grid has/contains focus\n      gridHasFocus: false,\n      // Flag to enable the `aria-live` region(s) after mount\n      // to prevent screen reader \"outbursts\" when mounting\n      isLive: false\n    };\n  },\n  computed: {\n    valueId: function valueId() {\n      return this.safeId();\n    },\n    widgetId: function widgetId() {\n      return this.safeId('_calendar-wrapper_');\n    },\n    navId: function navId() {\n      return this.safeId('_calendar-nav_');\n    },\n    gridId: function gridId() {\n      return this.safeId('_calendar-grid_');\n    },\n    gridCaptionId: function gridCaptionId() {\n      return this.safeId('_calendar-grid-caption_');\n    },\n    gridHelpId: function gridHelpId() {\n      return this.safeId('_calendar-grid-help_');\n    },\n    activeId: function activeId() {\n      return this.activeYMD ? this.safeId(\"_cell-\".concat(this.activeYMD, \"_\")) : null;\n    },\n    // TODO: Use computed props to convert `YYYY-MM-DD` to `Date` object\n    selectedDate: function selectedDate() {\n      // Selected as a `Date` object\n      return parseYMD(this.selectedYMD);\n    },\n    activeDate: function activeDate() {\n      // Active as a `Date` object\n      return parseYMD(this.activeYMD);\n    },\n    computedMin: function computedMin() {\n      return parseYMD(this.min);\n    },\n    computedMax: function computedMax() {\n      return parseYMD(this.max);\n    },\n    computedWeekStarts: function computedWeekStarts() {\n      // `startWeekday` is a prop (constrained to `0` through `6`)\n      return mathMax(toInteger(this.startWeekday, 0), 0) % 7;\n    },\n    computedLocale: function computedLocale() {\n      // Returns the resolved locale used by the calendar\n      return resolveLocale(concat(this.locale).filter(identity), CALENDAR_GREGORY);\n    },\n    computedDateDisabledFn: function computedDateDisabledFn() {\n      var dateDisabledFn = this.dateDisabledFn;\n      return hasPropFunction(dateDisabledFn) ? dateDisabledFn : function () {\n        return false;\n      };\n    },\n    // TODO: Change `dateInfoFn` to handle events and notes as well as classes\n    computedDateInfoFn: function computedDateInfoFn() {\n      var dateInfoFn = this.dateInfoFn;\n      return hasPropFunction(dateInfoFn) ? dateInfoFn : function () {\n        return {};\n      };\n    },\n    calendarLocale: function calendarLocale() {\n      // This locale enforces the gregorian calendar (for use in formatter functions)\n      // Needed because IE 11 resolves `ar-IR` as islamic-civil calendar\n      // and IE 11 (and some other browsers) do not support the `calendar` option\n      // And we currently only support the gregorian calendar\n      var fmt = new Intl.DateTimeFormat(this.computedLocale, {\n        calendar: CALENDAR_GREGORY\n      });\n      var calendar = fmt.resolvedOptions().calendar;\n      var locale = fmt.resolvedOptions().locale;\n      /* istanbul ignore if: mainly for IE 11 and a few other browsers, hard to test in JSDOM */\n\n      if (calendar !== CALENDAR_GREGORY) {\n        // Ensure the locale requests the gregorian calendar\n        // Mainly for IE 11, and currently we can't handle non-gregorian calendars\n        // TODO: Should we always return this value?\n        locale = locale.replace(/-u-.+$/i, '').concat('-u-ca-gregory');\n      }\n\n      return locale;\n    },\n    calendarYear: function calendarYear() {\n      return this.activeDate.getFullYear();\n    },\n    calendarMonth: function calendarMonth() {\n      return this.activeDate.getMonth();\n    },\n    calendarFirstDay: function calendarFirstDay() {\n      // We set the time for this date to 12pm to work around\n      // date formatting issues in Firefox and Safari\n      // See: https://github.com/bootstrap-vue/bootstrap-vue/issues/5818\n      return createDate(this.calendarYear, this.calendarMonth, 1, 12);\n    },\n    calendarDaysInMonth: function calendarDaysInMonth() {\n      // We create a new date as to not mutate the original\n      var date = createDate(this.calendarFirstDay);\n      date.setMonth(date.getMonth() + 1, 0);\n      return date.getDate();\n    },\n    computedVariant: function computedVariant() {\n      return \"btn-\".concat(this.selectedVariant || 'primary');\n    },\n    computedTodayVariant: function computedTodayVariant() {\n      return \"btn-outline-\".concat(this.todayVariant || this.selectedVariant || 'primary');\n    },\n    computedNavButtonVariant: function computedNavButtonVariant() {\n      return \"btn-outline-\".concat(this.navButtonVariant || 'primary');\n    },\n    isRTL: function isRTL() {\n      // `true` if the language requested is RTL\n      var dir = toString(this.direction).toLowerCase();\n\n      if (dir === 'rtl') {\n        /* istanbul ignore next */\n        return true;\n      } else if (dir === 'ltr') {\n        /* istanbul ignore next */\n        return false;\n      }\n\n      return isLocaleRTL(this.computedLocale);\n    },\n    context: function context() {\n      var selectedYMD = this.selectedYMD,\n          activeYMD = this.activeYMD;\n      var selectedDate = parseYMD(selectedYMD);\n      var activeDate = parseYMD(activeYMD);\n      return {\n        // The current value of the `v-model`\n        selectedYMD: selectedYMD,\n        selectedDate: selectedDate,\n        selectedFormatted: selectedDate ? this.formatDateString(selectedDate) : this.labelNoDateSelected,\n        // Which date cell is considered active due to navigation\n        activeYMD: activeYMD,\n        activeDate: activeDate,\n        activeFormatted: activeDate ? this.formatDateString(activeDate) : '',\n        // `true` if the date is disabled (when using keyboard navigation)\n        disabled: this.dateDisabled(activeDate),\n        // Locales used in formatting dates\n        locale: this.computedLocale,\n        calendarLocale: this.calendarLocale,\n        rtl: this.isRTL\n      };\n    },\n    // Computed props that return a function reference\n    dateOutOfRange: function dateOutOfRange() {\n      // Check whether a date is within the min/max range\n      // Returns a new function ref if the pops change\n      // We do this as we need to trigger the calendar computed prop\n      // to update when these props update\n      var min = this.computedMin,\n          max = this.computedMax;\n      return function (date) {\n        // Handle both `YYYY-MM-DD` and `Date` objects\n        date = parseYMD(date);\n        return min && date < min || max && date > max;\n      };\n    },\n    dateDisabled: function dateDisabled() {\n      var _this = this; // Returns a function for validating if a date is within range\n      // We grab this variables first to ensure a new function ref\n      // is generated when the props value changes\n      // We do this as we need to trigger the calendar computed prop\n      // to update when these props update\n\n\n      var rangeFn = this.dateOutOfRange; // Return the function ref\n\n      return function (date) {\n        // Handle both `YYYY-MM-DD` and `Date` objects\n        date = parseYMD(date);\n        var ymd = formatYMD(date);\n        return !!(rangeFn(date) || _this.computedDateDisabledFn(ymd, date));\n      };\n    },\n    // Computed props that return date formatter functions\n    formatDateString: function formatDateString() {\n      // Returns a date formatter function\n      return createDateFormatter(this.calendarLocale, _objectSpread(_objectSpread({\n        // Ensure we have year, month, day shown for screen readers/ARIA\n        // If users really want to leave one of these out, they can\n        // pass `undefined` for the property value\n        year: DATE_FORMAT_NUMERIC,\n        month: DATE_FORMAT_2_DIGIT,\n        day: DATE_FORMAT_2_DIGIT\n      }, this.dateFormatOptions), {}, {\n        // Ensure hours/minutes/seconds are not shown\n        // As we do not support the time portion (yet)\n        hour: undefined,\n        minute: undefined,\n        second: undefined,\n        // Ensure calendar is gregorian\n        calendar: CALENDAR_GREGORY\n      }));\n    },\n    formatYearMonth: function formatYearMonth() {\n      // Returns a date formatter function\n      return createDateFormatter(this.calendarLocale, {\n        year: DATE_FORMAT_NUMERIC,\n        month: CALENDAR_LONG,\n        calendar: CALENDAR_GREGORY\n      });\n    },\n    formatWeekdayName: function formatWeekdayName() {\n      // Long weekday name for weekday header aria-label\n      return createDateFormatter(this.calendarLocale, {\n        weekday: CALENDAR_LONG,\n        calendar: CALENDAR_GREGORY\n      });\n    },\n    formatWeekdayNameShort: function formatWeekdayNameShort() {\n      // Weekday header cell format\n      // defaults to 'short' 3 letter days, where possible\n      return createDateFormatter(this.calendarLocale, {\n        weekday: this.weekdayHeaderFormat || CALENDAR_SHORT,\n        calendar: CALENDAR_GREGORY\n      });\n    },\n    formatDay: function formatDay() {\n      // Calendar grid day number formatter\n      // We don't use DateTimeFormatter here as it can place extra\n      // character(s) after the number (i.e the `zh` locale)\n      var nf = new Intl.NumberFormat([this.computedLocale], {\n        style: 'decimal',\n        minimumIntegerDigits: 1,\n        minimumFractionDigits: 0,\n        maximumFractionDigits: 0,\n        notation: 'standard'\n      }); // Return a formatter function instance\n\n      return function (date) {\n        return nf.format(date.getDate());\n      };\n    },\n    // Disabled states for the nav buttons\n    prevDecadeDisabled: function prevDecadeDisabled() {\n      var min = this.computedMin;\n      return this.disabled || min && lastDateOfMonth(oneDecadeAgo(this.activeDate)) < min;\n    },\n    prevYearDisabled: function prevYearDisabled() {\n      var min = this.computedMin;\n      return this.disabled || min && lastDateOfMonth(oneYearAgo(this.activeDate)) < min;\n    },\n    prevMonthDisabled: function prevMonthDisabled() {\n      var min = this.computedMin;\n      return this.disabled || min && lastDateOfMonth(oneMonthAgo(this.activeDate)) < min;\n    },\n    thisMonthDisabled: function thisMonthDisabled() {\n      // TODO: We could/should check if today is out of range\n      return this.disabled;\n    },\n    nextMonthDisabled: function nextMonthDisabled() {\n      var max = this.computedMax;\n      return this.disabled || max && firstDateOfMonth(oneMonthAhead(this.activeDate)) > max;\n    },\n    nextYearDisabled: function nextYearDisabled() {\n      var max = this.computedMax;\n      return this.disabled || max && firstDateOfMonth(oneYearAhead(this.activeDate)) > max;\n    },\n    nextDecadeDisabled: function nextDecadeDisabled() {\n      var max = this.computedMax;\n      return this.disabled || max && firstDateOfMonth(oneDecadeAhead(this.activeDate)) > max;\n    },\n    // Calendar dates generation\n    calendar: function calendar() {\n      var matrix = [];\n      var firstDay = this.calendarFirstDay;\n      var calendarYear = firstDay.getFullYear();\n      var calendarMonth = firstDay.getMonth();\n      var daysInMonth = this.calendarDaysInMonth;\n      var startIndex = firstDay.getDay(); // `0`..`6`\n\n      var weekOffset = (this.computedWeekStarts > startIndex ? 7 : 0) - this.computedWeekStarts; // Build the calendar matrix\n\n      var currentDay = 0 - weekOffset - startIndex;\n\n      for (var week = 0; week < 6 && currentDay < daysInMonth; week++) {\n        // For each week\n        matrix[week] = []; // The following could be a map function\n\n        for (var j = 0; j < 7; j++) {\n          // For each day in week\n          currentDay++;\n          var date = createDate(calendarYear, calendarMonth, currentDay);\n          var month = date.getMonth();\n          var dayYMD = formatYMD(date);\n          var dayDisabled = this.dateDisabled(date); // TODO: This could be a normalizer method\n\n          var dateInfo = this.computedDateInfoFn(dayYMD, parseYMD(dayYMD));\n          dateInfo = isString(dateInfo) || isArray(dateInfo) ?\n          /* istanbul ignore next */\n          {\n            class: dateInfo\n          } : isPlainObject(dateInfo) ? _objectSpread({\n            class: ''\n          }, dateInfo) :\n          /* istanbul ignore next */\n          {\n            class: ''\n          };\n          matrix[week].push({\n            ymd: dayYMD,\n            // Cell content\n            day: this.formatDay(date),\n            label: this.formatDateString(date),\n            // Flags for styling\n            isThisMonth: month === calendarMonth,\n            isDisabled: dayDisabled,\n            // TODO: Handle other dateInfo properties such as notes/events\n            info: dateInfo\n          });\n        }\n      }\n\n      return matrix;\n    },\n    calendarHeadings: function calendarHeadings() {\n      var _this2 = this;\n\n      return this.calendar[0].map(function (d) {\n        return {\n          text: _this2.formatWeekdayNameShort(parseYMD(d.ymd)),\n          label: _this2.formatWeekdayName(parseYMD(d.ymd))\n        };\n      });\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME, function (newValue, oldValue) {\n    var selected = formatYMD(newValue) || '';\n    var old = formatYMD(oldValue) || '';\n\n    if (!datesEqual(selected, old)) {\n      this.activeYMD = selected || this.activeYMD;\n      this.selectedYMD = selected;\n    }\n  }), _defineProperty(_watch, \"selectedYMD\", function selectedYMD(newYMD, oldYMD) {\n    // TODO:\n    //   Should we compare to `formatYMD(this.value)` and emit\n    //   only if they are different?\n    if (newYMD !== oldYMD) {\n      this.$emit(MODEL_EVENT_NAME, this.valueAsDate ? parseYMD(newYMD) || null : newYMD || '');\n    }\n  }), _defineProperty(_watch, \"context\", function context(newValue, oldValue) {\n    if (!looseEqual(newValue, oldValue)) {\n      this.$emit(EVENT_NAME_CONTEXT, newValue);\n    }\n  }), _defineProperty(_watch, \"hidden\", function hidden(newValue) {\n    // Reset the active focused day when hidden\n    this.activeYMD = this.selectedYMD || formatYMD(this[MODEL_PROP_NAME] || this.constrainDate(this.initialDate || this.getToday())); // Enable/disable the live regions\n\n    this.setLive(!newValue);\n  }), _watch),\n  created: function created() {\n    var _this3 = this;\n\n    this.$nextTick(function () {\n      _this3.$emit(EVENT_NAME_CONTEXT, _this3.context);\n    });\n  },\n  mounted: function mounted() {\n    this.setLive(true);\n  },\n\n  /* istanbul ignore next */\n  activated: function activated() {\n    this.setLive(true);\n  },\n\n  /* istanbul ignore next */\n  deactivated: function deactivated() {\n    this.setLive(false);\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.setLive(false);\n  },\n  methods: {\n    // Public method(s)\n    focus: function focus() {\n      if (!this.disabled) {\n        attemptFocus(this.$refs.grid);\n      }\n    },\n    blur: function blur() {\n      if (!this.disabled) {\n        attemptBlur(this.$refs.grid);\n      }\n    },\n    // Private methods\n    setLive: function setLive(on) {\n      var _this4 = this;\n\n      if (on) {\n        this.$nextTick(function () {\n          requestAF(function () {\n            _this4.isLive = true;\n          });\n        });\n      } else {\n        this.isLive = false;\n      }\n    },\n    getToday: function getToday() {\n      return parseYMD(createDate());\n    },\n    constrainDate: function constrainDate(date) {\n      // Constrains a date between min and max\n      // returns a new `Date` object instance\n      return _constrainDate(date, this.computedMin, this.computedMax);\n    },\n    emitSelected: function emitSelected(date) {\n      var _this5 = this; // Performed in a `$nextTick()` to (probably) ensure\n      // the input event has emitted first\n\n\n      this.$nextTick(function () {\n        _this5.$emit(EVENT_NAME_SELECTED, formatYMD(date) || '', parseYMD(date) || null);\n      });\n    },\n    // Event handlers\n    setGridFocusFlag: function setGridFocusFlag(event) {\n      // Sets the gridHasFocus flag to make date \"button\" look focused\n      this.gridHasFocus = !this.disabled && event.type === 'focus';\n    },\n    onKeydownWrapper: function onKeydownWrapper(event) {\n      // Calendar keyboard navigation\n      // Handles PAGEUP/PAGEDOWN/END/HOME/LEFT/UP/RIGHT/DOWN\n      // Focuses grid after updating\n      if (this.noKeyNav) {\n        /* istanbul ignore next */\n        return;\n      }\n\n      var altKey = event.altKey,\n          ctrlKey = event.ctrlKey,\n          keyCode = event.keyCode;\n\n      if (!arrayIncludes([CODE_PAGEUP, CODE_PAGEDOWN, CODE_END, CODE_HOME, CODE_LEFT, CODE_UP, CODE_RIGHT, CODE_DOWN], keyCode)) {\n        /* istanbul ignore next */\n        return;\n      }\n\n      stopEvent(event);\n      var activeDate = createDate(this.activeDate);\n      var checkDate = createDate(this.activeDate);\n      var day = activeDate.getDate();\n      var constrainedToday = this.constrainDate(this.getToday());\n      var isRTL = this.isRTL;\n\n      if (keyCode === CODE_PAGEUP) {\n        // PAGEUP - Previous month/year\n        activeDate = (altKey ? ctrlKey ? oneDecadeAgo : oneYearAgo : oneMonthAgo)(activeDate); // We check the first day of month to be in rage\n\n        checkDate = createDate(activeDate);\n        checkDate.setDate(1);\n      } else if (keyCode === CODE_PAGEDOWN) {\n        // PAGEDOWN - Next month/year\n        activeDate = (altKey ? ctrlKey ? oneDecadeAhead : oneYearAhead : oneMonthAhead)(activeDate); // We check the last day of month to be in rage\n\n        checkDate = createDate(activeDate);\n        checkDate.setMonth(checkDate.getMonth() + 1);\n        checkDate.setDate(0);\n      } else if (keyCode === CODE_LEFT) {\n        // LEFT - Previous day (or next day for RTL)\n        activeDate.setDate(day + (isRTL ? 1 : -1));\n        activeDate = this.constrainDate(activeDate);\n        checkDate = activeDate;\n      } else if (keyCode === CODE_RIGHT) {\n        // RIGHT - Next day (or previous day for RTL)\n        activeDate.setDate(day + (isRTL ? -1 : 1));\n        activeDate = this.constrainDate(activeDate);\n        checkDate = activeDate;\n      } else if (keyCode === CODE_UP) {\n        // UP - Previous week\n        activeDate.setDate(day - 7);\n        activeDate = this.constrainDate(activeDate);\n        checkDate = activeDate;\n      } else if (keyCode === CODE_DOWN) {\n        // DOWN - Next week\n        activeDate.setDate(day + 7);\n        activeDate = this.constrainDate(activeDate);\n        checkDate = activeDate;\n      } else if (keyCode === CODE_HOME) {\n        // HOME - Today\n        activeDate = constrainedToday;\n        checkDate = activeDate;\n      } else if (keyCode === CODE_END) {\n        // END - Selected date, or today if no selected date\n        activeDate = parseYMD(this.selectedDate) || constrainedToday;\n        checkDate = activeDate;\n      }\n\n      if (!this.dateOutOfRange(checkDate) && !datesEqual(activeDate, this.activeDate)) {\n        // We only jump to date if within min/max\n        // We don't check for individual disabled dates though (via user function)\n        this.activeYMD = formatYMD(activeDate);\n      } // Ensure grid is focused\n\n\n      this.focus();\n    },\n    onKeydownGrid: function onKeydownGrid(event) {\n      // Pressing enter/space on grid to select active date\n      var keyCode = event.keyCode;\n      var activeDate = this.activeDate;\n\n      if (keyCode === CODE_ENTER || keyCode === CODE_SPACE) {\n        stopEvent(event);\n\n        if (!this.disabled && !this.readonly && !this.dateDisabled(activeDate)) {\n          this.selectedYMD = formatYMD(activeDate);\n          this.emitSelected(activeDate);\n        } // Ensure grid is focused\n\n\n        this.focus();\n      }\n    },\n    onClickDay: function onClickDay(day) {\n      // Clicking on a date \"button\" to select it\n      var selectedDate = this.selectedDate,\n          activeDate = this.activeDate;\n      var clickedDate = parseYMD(day.ymd);\n\n      if (!this.disabled && !day.isDisabled && !this.dateDisabled(clickedDate)) {\n        if (!this.readonly) {\n          // If readonly mode, we don't set the selected date, just the active date\n          // If the clicked date is equal to the already selected date, we don't update the model\n          this.selectedYMD = formatYMD(datesEqual(clickedDate, selectedDate) ? selectedDate : clickedDate);\n          this.emitSelected(clickedDate);\n        }\n\n        this.activeYMD = formatYMD(datesEqual(clickedDate, activeDate) ? activeDate : createDate(clickedDate)); // Ensure grid is focused\n\n        this.focus();\n      }\n    },\n    gotoPrevDecade: function gotoPrevDecade() {\n      this.activeYMD = formatYMD(this.constrainDate(oneDecadeAgo(this.activeDate)));\n    },\n    gotoPrevYear: function gotoPrevYear() {\n      this.activeYMD = formatYMD(this.constrainDate(oneYearAgo(this.activeDate)));\n    },\n    gotoPrevMonth: function gotoPrevMonth() {\n      this.activeYMD = formatYMD(this.constrainDate(oneMonthAgo(this.activeDate)));\n    },\n    gotoCurrentMonth: function gotoCurrentMonth() {\n      // TODO: Maybe this goto date should be configurable?\n      this.activeYMD = formatYMD(this.constrainDate(this.getToday()));\n    },\n    gotoNextMonth: function gotoNextMonth() {\n      this.activeYMD = formatYMD(this.constrainDate(oneMonthAhead(this.activeDate)));\n    },\n    gotoNextYear: function gotoNextYear() {\n      this.activeYMD = formatYMD(this.constrainDate(oneYearAhead(this.activeDate)));\n    },\n    gotoNextDecade: function gotoNextDecade() {\n      this.activeYMD = formatYMD(this.constrainDate(oneDecadeAhead(this.activeDate)));\n    },\n    onHeaderClick: function onHeaderClick() {\n      if (!this.disabled) {\n        this.activeYMD = this.selectedYMD || formatYMD(this.getToday());\n        this.focus();\n      }\n    }\n  },\n  render: function render(h) {\n    var _this6 = this; // If `hidden` prop is set, render just a placeholder node\n\n\n    if (this.hidden) {\n      return h();\n    }\n\n    var valueId = this.valueId,\n        widgetId = this.widgetId,\n        navId = this.navId,\n        gridId = this.gridId,\n        gridCaptionId = this.gridCaptionId,\n        gridHelpId = this.gridHelpId,\n        activeId = this.activeId,\n        disabled = this.disabled,\n        noKeyNav = this.noKeyNav,\n        isLive = this.isLive,\n        isRTL = this.isRTL,\n        activeYMD = this.activeYMD,\n        selectedYMD = this.selectedYMD,\n        safeId = this.safeId;\n    var hideDecadeNav = !this.showDecadeNav;\n    var todayYMD = formatYMD(this.getToday());\n    var highlightToday = !this.noHighlightToday; // Header showing current selected date\n\n    var $header = h('output', {\n      staticClass: 'form-control form-control-sm text-center',\n      class: {\n        'text-muted': disabled,\n        readonly: this.readonly || disabled\n      },\n      attrs: {\n        id: valueId,\n        for: gridId,\n        role: 'status',\n        tabindex: disabled ? null : '-1',\n        // Mainly for testing purposes, as we do not know\n        // the exact format `Intl` will format the date string\n        'data-selected': toString(selectedYMD),\n        // We wait until after mount to enable `aria-live`\n        // to prevent initial announcement on page render\n        'aria-live': isLive ? 'polite' : 'off',\n        'aria-atomic': isLive ? 'true' : null\n      },\n      on: {\n        // Transfer focus/click to focus grid\n        // and focus active date (or today if no selection)\n        click: this.onHeaderClick,\n        focus: this.onHeaderClick\n      }\n    }, this.selectedDate ? [// We use `bdi` elements here in case the label doesn't match the locale\n    // Although IE 11 does not deal with <BDI> at all (equivalent to a span)\n    h('bdi', {\n      staticClass: 'sr-only'\n    }, \" (\".concat(toString(this.labelSelected), \") \")), h('bdi', this.formatDateString(this.selectedDate))] : this.labelNoDateSelected || \"\\xA0\" // '&nbsp;'\n    );\n    $header = h(this.headerTag, {\n      staticClass: 'b-calendar-header',\n      class: {\n        'sr-only': this.hideHeader\n      },\n      attrs: {\n        title: this.selectedDate ? this.labelSelectedDate || null : null\n      }\n    }, [$header]); // Content for the date navigation buttons\n\n    var navScope = {\n      isRTL: isRTL\n    };\n    var navProps = {\n      shiftV: 0.5\n    };\n\n    var navPrevProps = _objectSpread(_objectSpread({}, navProps), {}, {\n      flipH: isRTL\n    });\n\n    var navNextProps = _objectSpread(_objectSpread({}, navProps), {}, {\n      flipH: !isRTL\n    });\n\n    var $prevDecadeIcon = this.normalizeSlot(SLOT_NAME_NAV_PEV_DECADE, navScope) || h(BIconChevronBarLeft, {\n      props: navPrevProps\n    });\n    var $prevYearIcon = this.normalizeSlot(SLOT_NAME_NAV_PEV_YEAR, navScope) || h(BIconChevronDoubleLeft, {\n      props: navPrevProps\n    });\n    var $prevMonthIcon = this.normalizeSlot(SLOT_NAME_NAV_PEV_MONTH, navScope) || h(BIconChevronLeft, {\n      props: navPrevProps\n    });\n    var $thisMonthIcon = this.normalizeSlot(SLOT_NAME_NAV_THIS_MONTH, navScope) || h(BIconCircleFill, {\n      props: navProps\n    });\n    var $nextMonthIcon = this.normalizeSlot(SLOT_NAME_NAV_NEXT_MONTH, navScope) || h(BIconChevronLeft, {\n      props: navNextProps\n    });\n    var $nextYearIcon = this.normalizeSlot(SLOT_NAME_NAV_NEXT_YEAR, navScope) || h(BIconChevronDoubleLeft, {\n      props: navNextProps\n    });\n    var $nextDecadeIcon = this.normalizeSlot(SLOT_NAME_NAV_NEXT_DECADE, navScope) || h(BIconChevronBarLeft, {\n      props: navNextProps\n    }); // Utility to create the date navigation buttons\n\n    var makeNavBtn = function makeNavBtn(content, label, handler, btnDisabled, shortcut) {\n      return h('button', {\n        staticClass: 'btn btn-sm border-0 flex-fill',\n        class: [_this6.computedNavButtonVariant, {\n          disabled: btnDisabled\n        }],\n        attrs: {\n          title: label || null,\n          type: 'button',\n          tabindex: noKeyNav ? '-1' : null,\n          'aria-label': label || null,\n          'aria-disabled': btnDisabled ? 'true' : null,\n          'aria-keyshortcuts': shortcut || null\n        },\n        on: btnDisabled ? {} : {\n          click: handler\n        }\n      }, [h('div', {\n        attrs: {\n          'aria-hidden': 'true'\n        }\n      }, [content])]);\n    }; // Generate the date navigation buttons\n\n\n    var $nav = h('div', {\n      staticClass: 'b-calendar-nav d-flex',\n      attrs: {\n        id: navId,\n        role: 'group',\n        tabindex: noKeyNav ? '-1' : null,\n        'aria-hidden': disabled ? 'true' : null,\n        'aria-label': this.labelNav || null,\n        'aria-controls': gridId\n      }\n    }, [hideDecadeNav ? h() : makeNavBtn($prevDecadeIcon, this.labelPrevDecade, this.gotoPrevDecade, this.prevDecadeDisabled, 'Ctrl+Alt+PageDown'), makeNavBtn($prevYearIcon, this.labelPrevYear, this.gotoPrevYear, this.prevYearDisabled, 'Alt+PageDown'), makeNavBtn($prevMonthIcon, this.labelPrevMonth, this.gotoPrevMonth, this.prevMonthDisabled, 'PageDown'), makeNavBtn($thisMonthIcon, this.labelCurrentMonth, this.gotoCurrentMonth, this.thisMonthDisabled, 'Home'), makeNavBtn($nextMonthIcon, this.labelNextMonth, this.gotoNextMonth, this.nextMonthDisabled, 'PageUp'), makeNavBtn($nextYearIcon, this.labelNextYear, this.gotoNextYear, this.nextYearDisabled, 'Alt+PageUp'), hideDecadeNav ? h() : makeNavBtn($nextDecadeIcon, this.labelNextDecade, this.gotoNextDecade, this.nextDecadeDisabled, 'Ctrl+Alt+PageUp')]); // Caption for calendar grid\n\n    var $gridCaption = h('div', {\n      staticClass: 'b-calendar-grid-caption text-center font-weight-bold',\n      class: {\n        'text-muted': disabled\n      },\n      attrs: {\n        id: gridCaptionId,\n        'aria-live': isLive ? 'polite' : null,\n        'aria-atomic': isLive ? 'true' : null\n      },\n      key: 'grid-caption'\n    }, this.formatYearMonth(this.calendarFirstDay)); // Calendar weekday headings\n\n    var $gridWeekDays = h('div', {\n      staticClass: 'b-calendar-grid-weekdays row no-gutters border-bottom',\n      attrs: {\n        'aria-hidden': 'true'\n      }\n    }, this.calendarHeadings.map(function (d, idx) {\n      return h('small', {\n        staticClass: 'col text-truncate',\n        class: {\n          'text-muted': disabled\n        },\n        attrs: {\n          title: d.label === d.text ? null : d.label,\n          'aria-label': d.label\n        },\n        key: idx\n      }, d.text);\n    })); // Calendar day grid\n\n    var $gridBody = this.calendar.map(function (week) {\n      var $cells = week.map(function (day, dIndex) {\n        var _class;\n\n        var isSelected = day.ymd === selectedYMD;\n        var isActive = day.ymd === activeYMD;\n        var isToday = day.ymd === todayYMD;\n        var idCell = safeId(\"_cell-\".concat(day.ymd, \"_\")); // \"fake\" button\n\n        var $btn = h('span', {\n          staticClass: 'btn border-0 rounded-circle text-nowrap',\n          // Should we add some classes to signify if today/selected/etc?\n          class: (_class = {\n            // Give the fake button a focus ring\n            focus: isActive && _this6.gridHasFocus,\n            // Styling\n            disabled: day.isDisabled || disabled,\n            active: isSelected\n          }, _defineProperty(_class, _this6.computedVariant, isSelected), _defineProperty(_class, _this6.computedTodayVariant, isToday && highlightToday && !isSelected && day.isThisMonth), _defineProperty(_class, 'btn-outline-light', !(isToday && highlightToday) && !isSelected && !isActive), _defineProperty(_class, 'btn-light', !(isToday && highlightToday) && !isSelected && isActive), _defineProperty(_class, 'text-muted', !day.isThisMonth && !isSelected), _defineProperty(_class, 'text-dark', !(isToday && highlightToday) && !isSelected && !isActive && day.isThisMonth), _defineProperty(_class, 'font-weight-bold', (isSelected || day.isThisMonth) && !day.isDisabled), _class),\n          on: {\n            click: function click() {\n              return _this6.onClickDay(day);\n            }\n          }\n        }, day.day);\n        return h('div', // Cell with button\n        {\n          staticClass: 'col p-0',\n          class: day.isDisabled ? 'bg-light' : day.info.class || '',\n          attrs: {\n            id: idCell,\n            role: 'button',\n            'data-date': day.ymd,\n            // Primarily for testing purposes\n            // Only days in the month are presented as buttons to screen readers\n            'aria-hidden': day.isThisMonth ? null : 'true',\n            'aria-disabled': day.isDisabled || disabled ? 'true' : null,\n            'aria-label': [day.label, isSelected ? \"(\".concat(_this6.labelSelected, \")\") : null, isToday ? \"(\".concat(_this6.labelToday, \")\") : null].filter(identity).join(' '),\n            // NVDA doesn't convey `aria-selected`, but does `aria-current`,\n            // ChromeVox doesn't convey `aria-current`, but does `aria-selected`,\n            // so we set both attributes for robustness\n            'aria-selected': isSelected ? 'true' : null,\n            'aria-current': isSelected ? 'date' : null\n          },\n          key: dIndex\n        }, [$btn]);\n      }); // Return the week \"row\"\n      // We use the first day of the weeks YMD value as a\n      // key for efficient DOM patching / element re-use\n\n      return h('div', {\n        staticClass: 'row no-gutters',\n        key: week[0].ymd\n      }, $cells);\n    });\n    $gridBody = h('div', {\n      // A key is only required on the body if we add in transition support\n      staticClass: 'b-calendar-grid-body',\n      style: disabled ? {\n        pointerEvents: 'none'\n      } : {} // key: this.activeYMD.slice(0, -3)\n\n    }, $gridBody);\n    var $gridHelp = h('div', {\n      staticClass: 'b-calendar-grid-help border-top small text-muted text-center bg-light',\n      attrs: {\n        id: gridHelpId\n      }\n    }, [h('div', {\n      staticClass: 'small'\n    }, this.labelHelp)]);\n    var $grid = h('div', {\n      staticClass: 'b-calendar-grid form-control h-auto text-center',\n      attrs: {\n        id: gridId,\n        role: 'application',\n        tabindex: noKeyNav ? '-1' : disabled ? null : '0',\n        'data-month': activeYMD.slice(0, -3),\n        // `YYYY-MM`, mainly for testing\n        'aria-roledescription': this.labelCalendar || null,\n        'aria-labelledby': gridCaptionId,\n        'aria-describedby': gridHelpId,\n        // `aria-readonly` is not considered valid on `role=\"application\"`\n        // https://www.w3.org/TR/wai-aria-1.1/#aria-readonly\n        // 'aria-readonly': this.readonly && !disabled ? 'true' : null,\n        'aria-disabled': disabled ? 'true' : null,\n        'aria-activedescendant': activeId\n      },\n      on: {\n        keydown: this.onKeydownGrid,\n        focus: this.setGridFocusFlag,\n        blur: this.setGridFocusFlag\n      },\n      ref: 'grid'\n    }, [$gridCaption, $gridWeekDays, $gridBody, $gridHelp]); // Optional bottom slot\n\n    var $slot = this.normalizeSlot();\n    $slot = $slot ? h('footer', {\n      staticClass: 'b-calendar-footer'\n    }, $slot) : h();\n    var $widget = h('div', {\n      staticClass: 'b-calendar-inner',\n      style: this.block ? {} : {\n        width: this.width\n      },\n      attrs: {\n        id: widgetId,\n        dir: isRTL ? 'rtl' : 'ltr',\n        lang: this.computedLocale || null,\n        role: 'group',\n        'aria-disabled': disabled ? 'true' : null,\n        // If datepicker controls an input, this will specify the ID of the input\n        'aria-controls': this.ariaControls || null,\n        // This should be a prop (so it can be changed to Date picker, etc, localized\n        'aria-roledescription': this.roleDescription || null,\n        'aria-describedby': [// Should the attr (if present) go last?\n        // Or should this attr be a prop?\n        this.bvAttrs['aria-describedby'], valueId, gridHelpId].filter(identity).join(' ')\n      },\n      on: {\n        keydown: this.onKeydownWrapper\n      }\n    }, [$header, $nav, $grid, $slot]); // Wrap in an outer div that can be styled\n\n    return h('div', {\n      staticClass: 'b-calendar',\n      class: {\n        'd-block': this.block\n      }\n    }, [$widget]);\n  }\n});","map":{"version":3,"sources":["E:/KULIAH/SEKERIPSI/PROGRESS/OTW/FRONTEND/mls-frontend_v2/node_modules/bootstrap-vue/esm/components/calendar/calendar.js"],"names":["_watch","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","Vue","NAME_CALENDAR","CALENDAR_GREGORY","CALENDAR_LONG","CALENDAR_NARROW","CALENDAR_SHORT","DATE_FORMAT_2_DIGIT","DATE_FORMAT_NUMERIC","EVENT_NAME_CONTEXT","EVENT_NAME_SELECTED","CODE_DOWN","CODE_END","CODE_ENTER","CODE_HOME","CODE_LEFT","CODE_PAGEDOWN","CODE_PAGEUP","CODE_RIGHT","CODE_SPACE","CODE_UP","PROP_TYPE_ARRAY_STRING","PROP_TYPE_BOOLEAN","PROP_TYPE_DATE_STRING","PROP_TYPE_FUNCTION","PROP_TYPE_NUMBER_STRING","PROP_TYPE_OBJECT","PROP_TYPE_STRING","SLOT_NAME_NAV_NEXT_DECADE","SLOT_NAME_NAV_NEXT_MONTH","SLOT_NAME_NAV_NEXT_YEAR","SLOT_NAME_NAV_PEV_DECADE","SLOT_NAME_NAV_PEV_MONTH","SLOT_NAME_NAV_PEV_YEAR","SLOT_NAME_NAV_THIS_MONTH","arrayIncludes","concat","createDate","createDateFormatter","constrainDate","_constrainDate","datesEqual","firstDateOfMonth","formatYMD","lastDateOfMonth","oneMonthAgo","oneMonthAhead","oneYearAgo","oneYearAhead","oneDecadeAgo","oneDecadeAhead","parseYMD","resolveLocale","attemptBlur","attemptFocus","requestAF","stopEvent","identity","isArray","isPlainObject","isString","isLocaleRTL","looseEqual","mathMax","makeModelMixin","toInteger","sortKeys","hasPropFunction","makeProp","makePropsConfigurable","toString","attrsMixin","idMixin","props","idProps","normalizeSlotMixin","BIconChevronLeft","BIconChevronDoubleLeft","BIconChevronBarLeft","BIconCircleFill","_makeModelMixin","type","modelMixin","mixin","modelProps","MODEL_PROP_NAME","prop","MODEL_EVENT_NAME","event","ariaControls","block","dateDisabledFn","dateFormatOptions","year","month","day","weekday","dateInfoFn","direction","disabled","headerTag","hidden","hideHeader","initialDate","labelCalendar","labelCurrentMonth","labelHelp","labelNav","labelNextDecade","labelNextMonth","labelNextYear","labelNoDateSelected","labelPrevDecade","labelPrevMonth","labelPrevYear","labelSelected","labelToday","locale","max","min","navButtonVariant","noHighlightToday","noKeyNav","readonly","roleDescription","selectedVariant","showDecadeNav","startWeekday","todayVariant","valueAsDate","weekdayHeaderFormat","width","BCalendar","extend","name","mixins","data","selected","selectedYMD","activeYMD","getToday","gridHasFocus","isLive","computed","valueId","safeId","widgetId","navId","gridId","gridCaptionId","gridHelpId","activeId","selectedDate","activeDate","computedMin","computedMax","computedWeekStarts","computedLocale","computedDateDisabledFn","computedDateInfoFn","calendarLocale","fmt","Intl","DateTimeFormat","calendar","resolvedOptions","replace","calendarYear","getFullYear","calendarMonth","getMonth","calendarFirstDay","calendarDaysInMonth","date","setMonth","getDate","computedVariant","computedTodayVariant","computedNavButtonVariant","isRTL","dir","toLowerCase","context","selectedFormatted","formatDateString","activeFormatted","dateDisabled","rtl","dateOutOfRange","_this","rangeFn","ymd","hour","undefined","minute","second","formatYearMonth","formatWeekdayName","formatWeekdayNameShort","formatDay","nf","NumberFormat","style","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","notation","format","prevDecadeDisabled","prevYearDisabled","prevMonthDisabled","thisMonthDisabled","nextMonthDisabled","nextYearDisabled","nextDecadeDisabled","matrix","firstDay","daysInMonth","startIndex","getDay","weekOffset","currentDay","week","j","dayYMD","dayDisabled","dateInfo","class","label","isThisMonth","isDisabled","info","calendarHeadings","_this2","map","d","text","watch","newValue","oldValue","old","newYMD","oldYMD","$emit","setLive","created","_this3","$nextTick","mounted","activated","deactivated","beforeDestroy","methods","focus","$refs","grid","blur","on","_this4","emitSelected","_this5","setGridFocusFlag","onKeydownWrapper","altKey","ctrlKey","keyCode","checkDate","constrainedToday","setDate","onKeydownGrid","onClickDay","clickedDate","gotoPrevDecade","gotoPrevYear","gotoPrevMonth","gotoCurrentMonth","gotoNextMonth","gotoNextYear","gotoNextDecade","onHeaderClick","render","h","_this6","hideDecadeNav","todayYMD","highlightToday","$header","staticClass","attrs","id","for","role","tabindex","click","title","labelSelectedDate","navScope","navProps","shiftV","navPrevProps","flipH","navNextProps","$prevDecadeIcon","normalizeSlot","$prevYearIcon","$prevMonthIcon","$thisMonthIcon","$nextMonthIcon","$nextYearIcon","$nextDecadeIcon","makeNavBtn","content","handler","btnDisabled","shortcut","$nav","$gridCaption","$gridWeekDays","idx","$gridBody","$cells","dIndex","_class","isSelected","isActive","isToday","idCell","$btn","active","join","pointerEvents","$gridHelp","$grid","slice","keydown","ref","$slot","$widget","lang","bvAttrs"],"mappings":"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","sourcesContent":["var _watch;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_CALENDAR } from '../../constants/components';\nimport { CALENDAR_GREGORY, CALENDAR_LONG, CALENDAR_NARROW, CALENDAR_SHORT, DATE_FORMAT_2_DIGIT, DATE_FORMAT_NUMERIC } from '../../constants/date';\nimport { EVENT_NAME_CONTEXT, EVENT_NAME_SELECTED } from '../../constants/events';\nimport { CODE_DOWN, CODE_END, CODE_ENTER, CODE_HOME, CODE_LEFT, CODE_PAGEDOWN, CODE_PAGEUP, CODE_RIGHT, CODE_SPACE, CODE_UP } from '../../constants/key-codes';\nimport { PROP_TYPE_ARRAY_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_DATE_STRING, PROP_TYPE_FUNCTION, PROP_TYPE_NUMBER_STRING, PROP_TYPE_OBJECT, PROP_TYPE_STRING } from '../../constants/props';\nimport { SLOT_NAME_NAV_NEXT_DECADE, SLOT_NAME_NAV_NEXT_MONTH, SLOT_NAME_NAV_NEXT_YEAR, SLOT_NAME_NAV_PEV_DECADE, SLOT_NAME_NAV_PEV_MONTH, SLOT_NAME_NAV_PEV_YEAR, SLOT_NAME_NAV_THIS_MONTH } from '../../constants/slots';\nimport { arrayIncludes, concat } from '../../utils/array';\nimport { createDate, createDateFormatter, constrainDate as _constrainDate, datesEqual, firstDateOfMonth, formatYMD, lastDateOfMonth, oneMonthAgo, oneMonthAhead, oneYearAgo, oneYearAhead, oneDecadeAgo, oneDecadeAhead, parseYMD, resolveLocale } from '../../utils/date';\nimport { attemptBlur, attemptFocus, requestAF } from '../../utils/dom';\nimport { stopEvent } from '../../utils/events';\nimport { identity } from '../../utils/identity';\nimport { isArray, isPlainObject, isString } from '../../utils/inspect';\nimport { isLocaleRTL } from '../../utils/locale';\nimport { looseEqual } from '../../utils/loose-equal';\nimport { mathMax } from '../../utils/math';\nimport { makeModelMixin } from '../../utils/model';\nimport { toInteger } from '../../utils/number';\nimport { sortKeys } from '../../utils/object';\nimport { hasPropFunction, makeProp, makePropsConfigurable } from '../../utils/props';\nimport { toString } from '../../utils/string';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { BIconChevronLeft, BIconChevronDoubleLeft, BIconChevronBarLeft, BIconCircleFill } from '../../icons/icons'; // --- Constants ---\n\nvar _makeModelMixin = makeModelMixin('value', {\n  type: PROP_TYPE_DATE_STRING\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event; // --- Props ---\n\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), {}, {\n  ariaControls: makeProp(PROP_TYPE_STRING),\n  // Makes calendar the full width of its parent container\n  block: makeProp(PROP_TYPE_BOOLEAN, false),\n  dateDisabledFn: makeProp(PROP_TYPE_FUNCTION),\n  // `Intl.DateTimeFormat` object\n  dateFormatOptions: makeProp(PROP_TYPE_OBJECT, {\n    year: DATE_FORMAT_NUMERIC,\n    month: CALENDAR_LONG,\n    day: DATE_FORMAT_NUMERIC,\n    weekday: CALENDAR_LONG\n  }),\n  // Function to set a class of (classes) on the date cell\n  // if passed a string or an array\n  // TODO:\n  //   If the function returns an object, look for class prop for classes,\n  //   and other props for handling events/details/descriptions\n  dateInfoFn: makeProp(PROP_TYPE_FUNCTION),\n  // 'ltr', 'rtl', or `null` (for auto detect)\n  direction: makeProp(PROP_TYPE_STRING),\n  disabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  headerTag: makeProp(PROP_TYPE_STRING, 'header'),\n  // When `true`, renders a comment node, but keeps the component instance active\n  // Mainly for <b-form-date>, so that we can get the component's value and locale\n  // But we might just use separate date formatters, using the resolved locale\n  // (adjusted for the gregorian calendar)\n  hidden: makeProp(PROP_TYPE_BOOLEAN, false),\n  // When `true` makes the selected date header `sr-only`\n  hideHeader: makeProp(PROP_TYPE_BOOLEAN, false),\n  // This specifies the calendar year/month/day that will be shown when\n  // first opening the datepicker if no v-model value is provided\n  // Default is the current date (or `min`/`max`)\n  initialDate: makeProp(PROP_TYPE_DATE_STRING),\n  // Labels for buttons and keyboard shortcuts\n  labelCalendar: makeProp(PROP_TYPE_STRING, 'Calendar'),\n  labelCurrentMonth: makeProp(PROP_TYPE_STRING, 'Current month'),\n  labelHelp: makeProp(PROP_TYPE_STRING, 'Use cursor keys to navigate calendar dates'),\n  labelNav: makeProp(PROP_TYPE_STRING, 'Calendar navigation'),\n  labelNextDecade: makeProp(PROP_TYPE_STRING, 'Next decade'),\n  labelNextMonth: makeProp(PROP_TYPE_STRING, 'Next month'),\n  labelNextYear: makeProp(PROP_TYPE_STRING, 'Next year'),\n  labelNoDateSelected: makeProp(PROP_TYPE_STRING, 'No date selected'),\n  labelPrevDecade: makeProp(PROP_TYPE_STRING, 'Previous decade'),\n  labelPrevMonth: makeProp(PROP_TYPE_STRING, 'Previous month'),\n  labelPrevYear: makeProp(PROP_TYPE_STRING, 'Previous year'),\n  labelSelected: makeProp(PROP_TYPE_STRING, 'Selected date'),\n  labelToday: makeProp(PROP_TYPE_STRING, 'Today'),\n  // Locale(s) to use\n  // Default is to use page/browser default setting\n  locale: makeProp(PROP_TYPE_ARRAY_STRING),\n  max: makeProp(PROP_TYPE_DATE_STRING),\n  min: makeProp(PROP_TYPE_DATE_STRING),\n  // Variant color to use for the navigation buttons\n  navButtonVariant: makeProp(PROP_TYPE_STRING, 'secondary'),\n  // Disable highlighting today's date\n  noHighlightToday: makeProp(PROP_TYPE_BOOLEAN, false),\n  noKeyNav: makeProp(PROP_TYPE_BOOLEAN, false),\n  readonly: makeProp(PROP_TYPE_BOOLEAN, false),\n  roleDescription: makeProp(PROP_TYPE_STRING),\n  // Variant color to use for the selected date\n  selectedVariant: makeProp(PROP_TYPE_STRING, 'primary'),\n  // When `true` enables the decade navigation buttons\n  showDecadeNav: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Day of week to start calendar on\n  // `0` (Sunday), `1` (Monday), ... `6` (Saturday)\n  startWeekday: makeProp(PROP_TYPE_NUMBER_STRING, 0),\n  // Variant color to use for today's date (defaults to `selectedVariant`)\n  todayVariant: makeProp(PROP_TYPE_STRING),\n  // Always return the `v-model` value as a date object\n  valueAsDate: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Format of the weekday names at the top of the calendar\n  // `short` is typically a 3 letter abbreviation,\n  // `narrow` is typically a single letter\n  // `long` is the full week day name\n  // Although some locales may override this (i.e `ar`, etc.)\n  weekdayHeaderFormat: makeProp(PROP_TYPE_STRING, CALENDAR_SHORT, function (value) {\n    return arrayIncludes([CALENDAR_LONG, CALENDAR_SHORT, CALENDAR_NARROW], value);\n  }),\n  // Has no effect if prop `block` is set\n  width: makeProp(PROP_TYPE_STRING, '270px')\n})), NAME_CALENDAR); // --- Main component ---\n// @vue/component\n\nexport var BCalendar = Vue.extend({\n  name: NAME_CALENDAR,\n  // Mixin order is important!\n  mixins: [attrsMixin, idMixin, modelMixin, normalizeSlotMixin],\n  props: props,\n  data: function data() {\n    var selected = formatYMD(this[MODEL_PROP_NAME]) || '';\n    return {\n      // Selected date\n      selectedYMD: selected,\n      // Date in calendar grid that has `tabindex` of `0`\n      activeYMD: selected || formatYMD(_constrainDate(this.initialDate || this.getToday()), this.min, this.max),\n      // Will be true if the calendar grid has/contains focus\n      gridHasFocus: false,\n      // Flag to enable the `aria-live` region(s) after mount\n      // to prevent screen reader \"outbursts\" when mounting\n      isLive: false\n    };\n  },\n  computed: {\n    valueId: function valueId() {\n      return this.safeId();\n    },\n    widgetId: function widgetId() {\n      return this.safeId('_calendar-wrapper_');\n    },\n    navId: function navId() {\n      return this.safeId('_calendar-nav_');\n    },\n    gridId: function gridId() {\n      return this.safeId('_calendar-grid_');\n    },\n    gridCaptionId: function gridCaptionId() {\n      return this.safeId('_calendar-grid-caption_');\n    },\n    gridHelpId: function gridHelpId() {\n      return this.safeId('_calendar-grid-help_');\n    },\n    activeId: function activeId() {\n      return this.activeYMD ? this.safeId(\"_cell-\".concat(this.activeYMD, \"_\")) : null;\n    },\n    // TODO: Use computed props to convert `YYYY-MM-DD` to `Date` object\n    selectedDate: function selectedDate() {\n      // Selected as a `Date` object\n      return parseYMD(this.selectedYMD);\n    },\n    activeDate: function activeDate() {\n      // Active as a `Date` object\n      return parseYMD(this.activeYMD);\n    },\n    computedMin: function computedMin() {\n      return parseYMD(this.min);\n    },\n    computedMax: function computedMax() {\n      return parseYMD(this.max);\n    },\n    computedWeekStarts: function computedWeekStarts() {\n      // `startWeekday` is a prop (constrained to `0` through `6`)\n      return mathMax(toInteger(this.startWeekday, 0), 0) % 7;\n    },\n    computedLocale: function computedLocale() {\n      // Returns the resolved locale used by the calendar\n      return resolveLocale(concat(this.locale).filter(identity), CALENDAR_GREGORY);\n    },\n    computedDateDisabledFn: function computedDateDisabledFn() {\n      var dateDisabledFn = this.dateDisabledFn;\n      return hasPropFunction(dateDisabledFn) ? dateDisabledFn : function () {\n        return false;\n      };\n    },\n    // TODO: Change `dateInfoFn` to handle events and notes as well as classes\n    computedDateInfoFn: function computedDateInfoFn() {\n      var dateInfoFn = this.dateInfoFn;\n      return hasPropFunction(dateInfoFn) ? dateInfoFn : function () {\n        return {};\n      };\n    },\n    calendarLocale: function calendarLocale() {\n      // This locale enforces the gregorian calendar (for use in formatter functions)\n      // Needed because IE 11 resolves `ar-IR` as islamic-civil calendar\n      // and IE 11 (and some other browsers) do not support the `calendar` option\n      // And we currently only support the gregorian calendar\n      var fmt = new Intl.DateTimeFormat(this.computedLocale, {\n        calendar: CALENDAR_GREGORY\n      });\n      var calendar = fmt.resolvedOptions().calendar;\n      var locale = fmt.resolvedOptions().locale;\n      /* istanbul ignore if: mainly for IE 11 and a few other browsers, hard to test in JSDOM */\n\n      if (calendar !== CALENDAR_GREGORY) {\n        // Ensure the locale requests the gregorian calendar\n        // Mainly for IE 11, and currently we can't handle non-gregorian calendars\n        // TODO: Should we always return this value?\n        locale = locale.replace(/-u-.+$/i, '').concat('-u-ca-gregory');\n      }\n\n      return locale;\n    },\n    calendarYear: function calendarYear() {\n      return this.activeDate.getFullYear();\n    },\n    calendarMonth: function calendarMonth() {\n      return this.activeDate.getMonth();\n    },\n    calendarFirstDay: function calendarFirstDay() {\n      // We set the time for this date to 12pm to work around\n      // date formatting issues in Firefox and Safari\n      // See: https://github.com/bootstrap-vue/bootstrap-vue/issues/5818\n      return createDate(this.calendarYear, this.calendarMonth, 1, 12);\n    },\n    calendarDaysInMonth: function calendarDaysInMonth() {\n      // We create a new date as to not mutate the original\n      var date = createDate(this.calendarFirstDay);\n      date.setMonth(date.getMonth() + 1, 0);\n      return date.getDate();\n    },\n    computedVariant: function computedVariant() {\n      return \"btn-\".concat(this.selectedVariant || 'primary');\n    },\n    computedTodayVariant: function computedTodayVariant() {\n      return \"btn-outline-\".concat(this.todayVariant || this.selectedVariant || 'primary');\n    },\n    computedNavButtonVariant: function computedNavButtonVariant() {\n      return \"btn-outline-\".concat(this.navButtonVariant || 'primary');\n    },\n    isRTL: function isRTL() {\n      // `true` if the language requested is RTL\n      var dir = toString(this.direction).toLowerCase();\n\n      if (dir === 'rtl') {\n        /* istanbul ignore next */\n        return true;\n      } else if (dir === 'ltr') {\n        /* istanbul ignore next */\n        return false;\n      }\n\n      return isLocaleRTL(this.computedLocale);\n    },\n    context: function context() {\n      var selectedYMD = this.selectedYMD,\n          activeYMD = this.activeYMD;\n      var selectedDate = parseYMD(selectedYMD);\n      var activeDate = parseYMD(activeYMD);\n      return {\n        // The current value of the `v-model`\n        selectedYMD: selectedYMD,\n        selectedDate: selectedDate,\n        selectedFormatted: selectedDate ? this.formatDateString(selectedDate) : this.labelNoDateSelected,\n        // Which date cell is considered active due to navigation\n        activeYMD: activeYMD,\n        activeDate: activeDate,\n        activeFormatted: activeDate ? this.formatDateString(activeDate) : '',\n        // `true` if the date is disabled (when using keyboard navigation)\n        disabled: this.dateDisabled(activeDate),\n        // Locales used in formatting dates\n        locale: this.computedLocale,\n        calendarLocale: this.calendarLocale,\n        rtl: this.isRTL\n      };\n    },\n    // Computed props that return a function reference\n    dateOutOfRange: function dateOutOfRange() {\n      // Check whether a date is within the min/max range\n      // Returns a new function ref if the pops change\n      // We do this as we need to trigger the calendar computed prop\n      // to update when these props update\n      var min = this.computedMin,\n          max = this.computedMax;\n      return function (date) {\n        // Handle both `YYYY-MM-DD` and `Date` objects\n        date = parseYMD(date);\n        return min && date < min || max && date > max;\n      };\n    },\n    dateDisabled: function dateDisabled() {\n      var _this = this;\n\n      // Returns a function for validating if a date is within range\n      // We grab this variables first to ensure a new function ref\n      // is generated when the props value changes\n      // We do this as we need to trigger the calendar computed prop\n      // to update when these props update\n      var rangeFn = this.dateOutOfRange; // Return the function ref\n\n      return function (date) {\n        // Handle both `YYYY-MM-DD` and `Date` objects\n        date = parseYMD(date);\n        var ymd = formatYMD(date);\n        return !!(rangeFn(date) || _this.computedDateDisabledFn(ymd, date));\n      };\n    },\n    // Computed props that return date formatter functions\n    formatDateString: function formatDateString() {\n      // Returns a date formatter function\n      return createDateFormatter(this.calendarLocale, _objectSpread(_objectSpread({\n        // Ensure we have year, month, day shown for screen readers/ARIA\n        // If users really want to leave one of these out, they can\n        // pass `undefined` for the property value\n        year: DATE_FORMAT_NUMERIC,\n        month: DATE_FORMAT_2_DIGIT,\n        day: DATE_FORMAT_2_DIGIT\n      }, this.dateFormatOptions), {}, {\n        // Ensure hours/minutes/seconds are not shown\n        // As we do not support the time portion (yet)\n        hour: undefined,\n        minute: undefined,\n        second: undefined,\n        // Ensure calendar is gregorian\n        calendar: CALENDAR_GREGORY\n      }));\n    },\n    formatYearMonth: function formatYearMonth() {\n      // Returns a date formatter function\n      return createDateFormatter(this.calendarLocale, {\n        year: DATE_FORMAT_NUMERIC,\n        month: CALENDAR_LONG,\n        calendar: CALENDAR_GREGORY\n      });\n    },\n    formatWeekdayName: function formatWeekdayName() {\n      // Long weekday name for weekday header aria-label\n      return createDateFormatter(this.calendarLocale, {\n        weekday: CALENDAR_LONG,\n        calendar: CALENDAR_GREGORY\n      });\n    },\n    formatWeekdayNameShort: function formatWeekdayNameShort() {\n      // Weekday header cell format\n      // defaults to 'short' 3 letter days, where possible\n      return createDateFormatter(this.calendarLocale, {\n        weekday: this.weekdayHeaderFormat || CALENDAR_SHORT,\n        calendar: CALENDAR_GREGORY\n      });\n    },\n    formatDay: function formatDay() {\n      // Calendar grid day number formatter\n      // We don't use DateTimeFormatter here as it can place extra\n      // character(s) after the number (i.e the `zh` locale)\n      var nf = new Intl.NumberFormat([this.computedLocale], {\n        style: 'decimal',\n        minimumIntegerDigits: 1,\n        minimumFractionDigits: 0,\n        maximumFractionDigits: 0,\n        notation: 'standard'\n      }); // Return a formatter function instance\n\n      return function (date) {\n        return nf.format(date.getDate());\n      };\n    },\n    // Disabled states for the nav buttons\n    prevDecadeDisabled: function prevDecadeDisabled() {\n      var min = this.computedMin;\n      return this.disabled || min && lastDateOfMonth(oneDecadeAgo(this.activeDate)) < min;\n    },\n    prevYearDisabled: function prevYearDisabled() {\n      var min = this.computedMin;\n      return this.disabled || min && lastDateOfMonth(oneYearAgo(this.activeDate)) < min;\n    },\n    prevMonthDisabled: function prevMonthDisabled() {\n      var min = this.computedMin;\n      return this.disabled || min && lastDateOfMonth(oneMonthAgo(this.activeDate)) < min;\n    },\n    thisMonthDisabled: function thisMonthDisabled() {\n      // TODO: We could/should check if today is out of range\n      return this.disabled;\n    },\n    nextMonthDisabled: function nextMonthDisabled() {\n      var max = this.computedMax;\n      return this.disabled || max && firstDateOfMonth(oneMonthAhead(this.activeDate)) > max;\n    },\n    nextYearDisabled: function nextYearDisabled() {\n      var max = this.computedMax;\n      return this.disabled || max && firstDateOfMonth(oneYearAhead(this.activeDate)) > max;\n    },\n    nextDecadeDisabled: function nextDecadeDisabled() {\n      var max = this.computedMax;\n      return this.disabled || max && firstDateOfMonth(oneDecadeAhead(this.activeDate)) > max;\n    },\n    // Calendar dates generation\n    calendar: function calendar() {\n      var matrix = [];\n      var firstDay = this.calendarFirstDay;\n      var calendarYear = firstDay.getFullYear();\n      var calendarMonth = firstDay.getMonth();\n      var daysInMonth = this.calendarDaysInMonth;\n      var startIndex = firstDay.getDay(); // `0`..`6`\n\n      var weekOffset = (this.computedWeekStarts > startIndex ? 7 : 0) - this.computedWeekStarts; // Build the calendar matrix\n\n      var currentDay = 0 - weekOffset - startIndex;\n\n      for (var week = 0; week < 6 && currentDay < daysInMonth; week++) {\n        // For each week\n        matrix[week] = []; // The following could be a map function\n\n        for (var j = 0; j < 7; j++) {\n          // For each day in week\n          currentDay++;\n          var date = createDate(calendarYear, calendarMonth, currentDay);\n          var month = date.getMonth();\n          var dayYMD = formatYMD(date);\n          var dayDisabled = this.dateDisabled(date); // TODO: This could be a normalizer method\n\n          var dateInfo = this.computedDateInfoFn(dayYMD, parseYMD(dayYMD));\n          dateInfo = isString(dateInfo) || isArray(dateInfo) ?\n          /* istanbul ignore next */\n          {\n            class: dateInfo\n          } : isPlainObject(dateInfo) ? _objectSpread({\n            class: ''\n          }, dateInfo) :\n          /* istanbul ignore next */\n          {\n            class: ''\n          };\n          matrix[week].push({\n            ymd: dayYMD,\n            // Cell content\n            day: this.formatDay(date),\n            label: this.formatDateString(date),\n            // Flags for styling\n            isThisMonth: month === calendarMonth,\n            isDisabled: dayDisabled,\n            // TODO: Handle other dateInfo properties such as notes/events\n            info: dateInfo\n          });\n        }\n      }\n\n      return matrix;\n    },\n    calendarHeadings: function calendarHeadings() {\n      var _this2 = this;\n\n      return this.calendar[0].map(function (d) {\n        return {\n          text: _this2.formatWeekdayNameShort(parseYMD(d.ymd)),\n          label: _this2.formatWeekdayName(parseYMD(d.ymd))\n        };\n      });\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME, function (newValue, oldValue) {\n    var selected = formatYMD(newValue) || '';\n    var old = formatYMD(oldValue) || '';\n\n    if (!datesEqual(selected, old)) {\n      this.activeYMD = selected || this.activeYMD;\n      this.selectedYMD = selected;\n    }\n  }), _defineProperty(_watch, \"selectedYMD\", function selectedYMD(newYMD, oldYMD) {\n    // TODO:\n    //   Should we compare to `formatYMD(this.value)` and emit\n    //   only if they are different?\n    if (newYMD !== oldYMD) {\n      this.$emit(MODEL_EVENT_NAME, this.valueAsDate ? parseYMD(newYMD) || null : newYMD || '');\n    }\n  }), _defineProperty(_watch, \"context\", function context(newValue, oldValue) {\n    if (!looseEqual(newValue, oldValue)) {\n      this.$emit(EVENT_NAME_CONTEXT, newValue);\n    }\n  }), _defineProperty(_watch, \"hidden\", function hidden(newValue) {\n    // Reset the active focused day when hidden\n    this.activeYMD = this.selectedYMD || formatYMD(this[MODEL_PROP_NAME] || this.constrainDate(this.initialDate || this.getToday())); // Enable/disable the live regions\n\n    this.setLive(!newValue);\n  }), _watch),\n  created: function created() {\n    var _this3 = this;\n\n    this.$nextTick(function () {\n      _this3.$emit(EVENT_NAME_CONTEXT, _this3.context);\n    });\n  },\n  mounted: function mounted() {\n    this.setLive(true);\n  },\n\n  /* istanbul ignore next */\n  activated: function activated() {\n    this.setLive(true);\n  },\n\n  /* istanbul ignore next */\n  deactivated: function deactivated() {\n    this.setLive(false);\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.setLive(false);\n  },\n  methods: {\n    // Public method(s)\n    focus: function focus() {\n      if (!this.disabled) {\n        attemptFocus(this.$refs.grid);\n      }\n    },\n    blur: function blur() {\n      if (!this.disabled) {\n        attemptBlur(this.$refs.grid);\n      }\n    },\n    // Private methods\n    setLive: function setLive(on) {\n      var _this4 = this;\n\n      if (on) {\n        this.$nextTick(function () {\n          requestAF(function () {\n            _this4.isLive = true;\n          });\n        });\n      } else {\n        this.isLive = false;\n      }\n    },\n    getToday: function getToday() {\n      return parseYMD(createDate());\n    },\n    constrainDate: function constrainDate(date) {\n      // Constrains a date between min and max\n      // returns a new `Date` object instance\n      return _constrainDate(date, this.computedMin, this.computedMax);\n    },\n    emitSelected: function emitSelected(date) {\n      var _this5 = this;\n\n      // Performed in a `$nextTick()` to (probably) ensure\n      // the input event has emitted first\n      this.$nextTick(function () {\n        _this5.$emit(EVENT_NAME_SELECTED, formatYMD(date) || '', parseYMD(date) || null);\n      });\n    },\n    // Event handlers\n    setGridFocusFlag: function setGridFocusFlag(event) {\n      // Sets the gridHasFocus flag to make date \"button\" look focused\n      this.gridHasFocus = !this.disabled && event.type === 'focus';\n    },\n    onKeydownWrapper: function onKeydownWrapper(event) {\n      // Calendar keyboard navigation\n      // Handles PAGEUP/PAGEDOWN/END/HOME/LEFT/UP/RIGHT/DOWN\n      // Focuses grid after updating\n      if (this.noKeyNav) {\n        /* istanbul ignore next */\n        return;\n      }\n\n      var altKey = event.altKey,\n          ctrlKey = event.ctrlKey,\n          keyCode = event.keyCode;\n\n      if (!arrayIncludes([CODE_PAGEUP, CODE_PAGEDOWN, CODE_END, CODE_HOME, CODE_LEFT, CODE_UP, CODE_RIGHT, CODE_DOWN], keyCode)) {\n        /* istanbul ignore next */\n        return;\n      }\n\n      stopEvent(event);\n      var activeDate = createDate(this.activeDate);\n      var checkDate = createDate(this.activeDate);\n      var day = activeDate.getDate();\n      var constrainedToday = this.constrainDate(this.getToday());\n      var isRTL = this.isRTL;\n\n      if (keyCode === CODE_PAGEUP) {\n        // PAGEUP - Previous month/year\n        activeDate = (altKey ? ctrlKey ? oneDecadeAgo : oneYearAgo : oneMonthAgo)(activeDate); // We check the first day of month to be in rage\n\n        checkDate = createDate(activeDate);\n        checkDate.setDate(1);\n      } else if (keyCode === CODE_PAGEDOWN) {\n        // PAGEDOWN - Next month/year\n        activeDate = (altKey ? ctrlKey ? oneDecadeAhead : oneYearAhead : oneMonthAhead)(activeDate); // We check the last day of month to be in rage\n\n        checkDate = createDate(activeDate);\n        checkDate.setMonth(checkDate.getMonth() + 1);\n        checkDate.setDate(0);\n      } else if (keyCode === CODE_LEFT) {\n        // LEFT - Previous day (or next day for RTL)\n        activeDate.setDate(day + (isRTL ? 1 : -1));\n        activeDate = this.constrainDate(activeDate);\n        checkDate = activeDate;\n      } else if (keyCode === CODE_RIGHT) {\n        // RIGHT - Next day (or previous day for RTL)\n        activeDate.setDate(day + (isRTL ? -1 : 1));\n        activeDate = this.constrainDate(activeDate);\n        checkDate = activeDate;\n      } else if (keyCode === CODE_UP) {\n        // UP - Previous week\n        activeDate.setDate(day - 7);\n        activeDate = this.constrainDate(activeDate);\n        checkDate = activeDate;\n      } else if (keyCode === CODE_DOWN) {\n        // DOWN - Next week\n        activeDate.setDate(day + 7);\n        activeDate = this.constrainDate(activeDate);\n        checkDate = activeDate;\n      } else if (keyCode === CODE_HOME) {\n        // HOME - Today\n        activeDate = constrainedToday;\n        checkDate = activeDate;\n      } else if (keyCode === CODE_END) {\n        // END - Selected date, or today if no selected date\n        activeDate = parseYMD(this.selectedDate) || constrainedToday;\n        checkDate = activeDate;\n      }\n\n      if (!this.dateOutOfRange(checkDate) && !datesEqual(activeDate, this.activeDate)) {\n        // We only jump to date if within min/max\n        // We don't check for individual disabled dates though (via user function)\n        this.activeYMD = formatYMD(activeDate);\n      } // Ensure grid is focused\n\n\n      this.focus();\n    },\n    onKeydownGrid: function onKeydownGrid(event) {\n      // Pressing enter/space on grid to select active date\n      var keyCode = event.keyCode;\n      var activeDate = this.activeDate;\n\n      if (keyCode === CODE_ENTER || keyCode === CODE_SPACE) {\n        stopEvent(event);\n\n        if (!this.disabled && !this.readonly && !this.dateDisabled(activeDate)) {\n          this.selectedYMD = formatYMD(activeDate);\n          this.emitSelected(activeDate);\n        } // Ensure grid is focused\n\n\n        this.focus();\n      }\n    },\n    onClickDay: function onClickDay(day) {\n      // Clicking on a date \"button\" to select it\n      var selectedDate = this.selectedDate,\n          activeDate = this.activeDate;\n      var clickedDate = parseYMD(day.ymd);\n\n      if (!this.disabled && !day.isDisabled && !this.dateDisabled(clickedDate)) {\n        if (!this.readonly) {\n          // If readonly mode, we don't set the selected date, just the active date\n          // If the clicked date is equal to the already selected date, we don't update the model\n          this.selectedYMD = formatYMD(datesEqual(clickedDate, selectedDate) ? selectedDate : clickedDate);\n          this.emitSelected(clickedDate);\n        }\n\n        this.activeYMD = formatYMD(datesEqual(clickedDate, activeDate) ? activeDate : createDate(clickedDate)); // Ensure grid is focused\n\n        this.focus();\n      }\n    },\n    gotoPrevDecade: function gotoPrevDecade() {\n      this.activeYMD = formatYMD(this.constrainDate(oneDecadeAgo(this.activeDate)));\n    },\n    gotoPrevYear: function gotoPrevYear() {\n      this.activeYMD = formatYMD(this.constrainDate(oneYearAgo(this.activeDate)));\n    },\n    gotoPrevMonth: function gotoPrevMonth() {\n      this.activeYMD = formatYMD(this.constrainDate(oneMonthAgo(this.activeDate)));\n    },\n    gotoCurrentMonth: function gotoCurrentMonth() {\n      // TODO: Maybe this goto date should be configurable?\n      this.activeYMD = formatYMD(this.constrainDate(this.getToday()));\n    },\n    gotoNextMonth: function gotoNextMonth() {\n      this.activeYMD = formatYMD(this.constrainDate(oneMonthAhead(this.activeDate)));\n    },\n    gotoNextYear: function gotoNextYear() {\n      this.activeYMD = formatYMD(this.constrainDate(oneYearAhead(this.activeDate)));\n    },\n    gotoNextDecade: function gotoNextDecade() {\n      this.activeYMD = formatYMD(this.constrainDate(oneDecadeAhead(this.activeDate)));\n    },\n    onHeaderClick: function onHeaderClick() {\n      if (!this.disabled) {\n        this.activeYMD = this.selectedYMD || formatYMD(this.getToday());\n        this.focus();\n      }\n    }\n  },\n  render: function render(h) {\n    var _this6 = this;\n\n    // If `hidden` prop is set, render just a placeholder node\n    if (this.hidden) {\n      return h();\n    }\n\n    var valueId = this.valueId,\n        widgetId = this.widgetId,\n        navId = this.navId,\n        gridId = this.gridId,\n        gridCaptionId = this.gridCaptionId,\n        gridHelpId = this.gridHelpId,\n        activeId = this.activeId,\n        disabled = this.disabled,\n        noKeyNav = this.noKeyNav,\n        isLive = this.isLive,\n        isRTL = this.isRTL,\n        activeYMD = this.activeYMD,\n        selectedYMD = this.selectedYMD,\n        safeId = this.safeId;\n    var hideDecadeNav = !this.showDecadeNav;\n    var todayYMD = formatYMD(this.getToday());\n    var highlightToday = !this.noHighlightToday; // Header showing current selected date\n\n    var $header = h('output', {\n      staticClass: 'form-control form-control-sm text-center',\n      class: {\n        'text-muted': disabled,\n        readonly: this.readonly || disabled\n      },\n      attrs: {\n        id: valueId,\n        for: gridId,\n        role: 'status',\n        tabindex: disabled ? null : '-1',\n        // Mainly for testing purposes, as we do not know\n        // the exact format `Intl` will format the date string\n        'data-selected': toString(selectedYMD),\n        // We wait until after mount to enable `aria-live`\n        // to prevent initial announcement on page render\n        'aria-live': isLive ? 'polite' : 'off',\n        'aria-atomic': isLive ? 'true' : null\n      },\n      on: {\n        // Transfer focus/click to focus grid\n        // and focus active date (or today if no selection)\n        click: this.onHeaderClick,\n        focus: this.onHeaderClick\n      }\n    }, this.selectedDate ? [// We use `bdi` elements here in case the label doesn't match the locale\n    // Although IE 11 does not deal with <BDI> at all (equivalent to a span)\n    h('bdi', {\n      staticClass: 'sr-only'\n    }, \" (\".concat(toString(this.labelSelected), \") \")), h('bdi', this.formatDateString(this.selectedDate))] : this.labelNoDateSelected || \"\\xA0\" // '&nbsp;'\n    );\n    $header = h(this.headerTag, {\n      staticClass: 'b-calendar-header',\n      class: {\n        'sr-only': this.hideHeader\n      },\n      attrs: {\n        title: this.selectedDate ? this.labelSelectedDate || null : null\n      }\n    }, [$header]); // Content for the date navigation buttons\n\n    var navScope = {\n      isRTL: isRTL\n    };\n    var navProps = {\n      shiftV: 0.5\n    };\n\n    var navPrevProps = _objectSpread(_objectSpread({}, navProps), {}, {\n      flipH: isRTL\n    });\n\n    var navNextProps = _objectSpread(_objectSpread({}, navProps), {}, {\n      flipH: !isRTL\n    });\n\n    var $prevDecadeIcon = this.normalizeSlot(SLOT_NAME_NAV_PEV_DECADE, navScope) || h(BIconChevronBarLeft, {\n      props: navPrevProps\n    });\n    var $prevYearIcon = this.normalizeSlot(SLOT_NAME_NAV_PEV_YEAR, navScope) || h(BIconChevronDoubleLeft, {\n      props: navPrevProps\n    });\n    var $prevMonthIcon = this.normalizeSlot(SLOT_NAME_NAV_PEV_MONTH, navScope) || h(BIconChevronLeft, {\n      props: navPrevProps\n    });\n    var $thisMonthIcon = this.normalizeSlot(SLOT_NAME_NAV_THIS_MONTH, navScope) || h(BIconCircleFill, {\n      props: navProps\n    });\n    var $nextMonthIcon = this.normalizeSlot(SLOT_NAME_NAV_NEXT_MONTH, navScope) || h(BIconChevronLeft, {\n      props: navNextProps\n    });\n    var $nextYearIcon = this.normalizeSlot(SLOT_NAME_NAV_NEXT_YEAR, navScope) || h(BIconChevronDoubleLeft, {\n      props: navNextProps\n    });\n    var $nextDecadeIcon = this.normalizeSlot(SLOT_NAME_NAV_NEXT_DECADE, navScope) || h(BIconChevronBarLeft, {\n      props: navNextProps\n    }); // Utility to create the date navigation buttons\n\n    var makeNavBtn = function makeNavBtn(content, label, handler, btnDisabled, shortcut) {\n      return h('button', {\n        staticClass: 'btn btn-sm border-0 flex-fill',\n        class: [_this6.computedNavButtonVariant, {\n          disabled: btnDisabled\n        }],\n        attrs: {\n          title: label || null,\n          type: 'button',\n          tabindex: noKeyNav ? '-1' : null,\n          'aria-label': label || null,\n          'aria-disabled': btnDisabled ? 'true' : null,\n          'aria-keyshortcuts': shortcut || null\n        },\n        on: btnDisabled ? {} : {\n          click: handler\n        }\n      }, [h('div', {\n        attrs: {\n          'aria-hidden': 'true'\n        }\n      }, [content])]);\n    }; // Generate the date navigation buttons\n\n\n    var $nav = h('div', {\n      staticClass: 'b-calendar-nav d-flex',\n      attrs: {\n        id: navId,\n        role: 'group',\n        tabindex: noKeyNav ? '-1' : null,\n        'aria-hidden': disabled ? 'true' : null,\n        'aria-label': this.labelNav || null,\n        'aria-controls': gridId\n      }\n    }, [hideDecadeNav ? h() : makeNavBtn($prevDecadeIcon, this.labelPrevDecade, this.gotoPrevDecade, this.prevDecadeDisabled, 'Ctrl+Alt+PageDown'), makeNavBtn($prevYearIcon, this.labelPrevYear, this.gotoPrevYear, this.prevYearDisabled, 'Alt+PageDown'), makeNavBtn($prevMonthIcon, this.labelPrevMonth, this.gotoPrevMonth, this.prevMonthDisabled, 'PageDown'), makeNavBtn($thisMonthIcon, this.labelCurrentMonth, this.gotoCurrentMonth, this.thisMonthDisabled, 'Home'), makeNavBtn($nextMonthIcon, this.labelNextMonth, this.gotoNextMonth, this.nextMonthDisabled, 'PageUp'), makeNavBtn($nextYearIcon, this.labelNextYear, this.gotoNextYear, this.nextYearDisabled, 'Alt+PageUp'), hideDecadeNav ? h() : makeNavBtn($nextDecadeIcon, this.labelNextDecade, this.gotoNextDecade, this.nextDecadeDisabled, 'Ctrl+Alt+PageUp')]); // Caption for calendar grid\n\n    var $gridCaption = h('div', {\n      staticClass: 'b-calendar-grid-caption text-center font-weight-bold',\n      class: {\n        'text-muted': disabled\n      },\n      attrs: {\n        id: gridCaptionId,\n        'aria-live': isLive ? 'polite' : null,\n        'aria-atomic': isLive ? 'true' : null\n      },\n      key: 'grid-caption'\n    }, this.formatYearMonth(this.calendarFirstDay)); // Calendar weekday headings\n\n    var $gridWeekDays = h('div', {\n      staticClass: 'b-calendar-grid-weekdays row no-gutters border-bottom',\n      attrs: {\n        'aria-hidden': 'true'\n      }\n    }, this.calendarHeadings.map(function (d, idx) {\n      return h('small', {\n        staticClass: 'col text-truncate',\n        class: {\n          'text-muted': disabled\n        },\n        attrs: {\n          title: d.label === d.text ? null : d.label,\n          'aria-label': d.label\n        },\n        key: idx\n      }, d.text);\n    })); // Calendar day grid\n\n    var $gridBody = this.calendar.map(function (week) {\n      var $cells = week.map(function (day, dIndex) {\n        var _class;\n\n        var isSelected = day.ymd === selectedYMD;\n        var isActive = day.ymd === activeYMD;\n        var isToday = day.ymd === todayYMD;\n        var idCell = safeId(\"_cell-\".concat(day.ymd, \"_\")); // \"fake\" button\n\n        var $btn = h('span', {\n          staticClass: 'btn border-0 rounded-circle text-nowrap',\n          // Should we add some classes to signify if today/selected/etc?\n          class: (_class = {\n            // Give the fake button a focus ring\n            focus: isActive && _this6.gridHasFocus,\n            // Styling\n            disabled: day.isDisabled || disabled,\n            active: isSelected\n          }, _defineProperty(_class, _this6.computedVariant, isSelected), _defineProperty(_class, _this6.computedTodayVariant, isToday && highlightToday && !isSelected && day.isThisMonth), _defineProperty(_class, 'btn-outline-light', !(isToday && highlightToday) && !isSelected && !isActive), _defineProperty(_class, 'btn-light', !(isToday && highlightToday) && !isSelected && isActive), _defineProperty(_class, 'text-muted', !day.isThisMonth && !isSelected), _defineProperty(_class, 'text-dark', !(isToday && highlightToday) && !isSelected && !isActive && day.isThisMonth), _defineProperty(_class, 'font-weight-bold', (isSelected || day.isThisMonth) && !day.isDisabled), _class),\n          on: {\n            click: function click() {\n              return _this6.onClickDay(day);\n            }\n          }\n        }, day.day);\n        return h('div', // Cell with button\n        {\n          staticClass: 'col p-0',\n          class: day.isDisabled ? 'bg-light' : day.info.class || '',\n          attrs: {\n            id: idCell,\n            role: 'button',\n            'data-date': day.ymd,\n            // Primarily for testing purposes\n            // Only days in the month are presented as buttons to screen readers\n            'aria-hidden': day.isThisMonth ? null : 'true',\n            'aria-disabled': day.isDisabled || disabled ? 'true' : null,\n            'aria-label': [day.label, isSelected ? \"(\".concat(_this6.labelSelected, \")\") : null, isToday ? \"(\".concat(_this6.labelToday, \")\") : null].filter(identity).join(' '),\n            // NVDA doesn't convey `aria-selected`, but does `aria-current`,\n            // ChromeVox doesn't convey `aria-current`, but does `aria-selected`,\n            // so we set both attributes for robustness\n            'aria-selected': isSelected ? 'true' : null,\n            'aria-current': isSelected ? 'date' : null\n          },\n          key: dIndex\n        }, [$btn]);\n      }); // Return the week \"row\"\n      // We use the first day of the weeks YMD value as a\n      // key for efficient DOM patching / element re-use\n\n      return h('div', {\n        staticClass: 'row no-gutters',\n        key: week[0].ymd\n      }, $cells);\n    });\n    $gridBody = h('div', {\n      // A key is only required on the body if we add in transition support\n      staticClass: 'b-calendar-grid-body',\n      style: disabled ? {\n        pointerEvents: 'none'\n      } : {} // key: this.activeYMD.slice(0, -3)\n\n    }, $gridBody);\n    var $gridHelp = h('div', {\n      staticClass: 'b-calendar-grid-help border-top small text-muted text-center bg-light',\n      attrs: {\n        id: gridHelpId\n      }\n    }, [h('div', {\n      staticClass: 'small'\n    }, this.labelHelp)]);\n    var $grid = h('div', {\n      staticClass: 'b-calendar-grid form-control h-auto text-center',\n      attrs: {\n        id: gridId,\n        role: 'application',\n        tabindex: noKeyNav ? '-1' : disabled ? null : '0',\n        'data-month': activeYMD.slice(0, -3),\n        // `YYYY-MM`, mainly for testing\n        'aria-roledescription': this.labelCalendar || null,\n        'aria-labelledby': gridCaptionId,\n        'aria-describedby': gridHelpId,\n        // `aria-readonly` is not considered valid on `role=\"application\"`\n        // https://www.w3.org/TR/wai-aria-1.1/#aria-readonly\n        // 'aria-readonly': this.readonly && !disabled ? 'true' : null,\n        'aria-disabled': disabled ? 'true' : null,\n        'aria-activedescendant': activeId\n      },\n      on: {\n        keydown: this.onKeydownGrid,\n        focus: this.setGridFocusFlag,\n        blur: this.setGridFocusFlag\n      },\n      ref: 'grid'\n    }, [$gridCaption, $gridWeekDays, $gridBody, $gridHelp]); // Optional bottom slot\n\n    var $slot = this.normalizeSlot();\n    $slot = $slot ? h('footer', {\n      staticClass: 'b-calendar-footer'\n    }, $slot) : h();\n    var $widget = h('div', {\n      staticClass: 'b-calendar-inner',\n      style: this.block ? {} : {\n        width: this.width\n      },\n      attrs: {\n        id: widgetId,\n        dir: isRTL ? 'rtl' : 'ltr',\n        lang: this.computedLocale || null,\n        role: 'group',\n        'aria-disabled': disabled ? 'true' : null,\n        // If datepicker controls an input, this will specify the ID of the input\n        'aria-controls': this.ariaControls || null,\n        // This should be a prop (so it can be changed to Date picker, etc, localized\n        'aria-roledescription': this.roleDescription || null,\n        'aria-describedby': [// Should the attr (if present) go last?\n        // Or should this attr be a prop?\n        this.bvAttrs['aria-describedby'], valueId, gridHelpId].filter(identity).join(' ')\n      },\n      on: {\n        keydown: this.onKeydownWrapper\n      }\n    }, [$header, $nav, $grid, $slot]); // Wrap in an outer div that can be styled\n\n    return h('div', {\n      staticClass: 'b-calendar',\n      class: {\n        'd-block': this.block\n      }\n    }, [$widget]);\n  }\n});"]},"metadata":{},"sourceType":"module"}